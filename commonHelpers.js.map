{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst key = \"42527051-ab9ea8069b5c425aa0269f2a2\";\r\n\r\nconst params = {\r\n  image_type: 'photo',\r\n  orientation: 'horizontal',\r\n  safesearch: true\r\n}\r\n\r\nconst INSTANCE =  axios.create({\r\n  baseURL: `https://pixabay.com/api`,\r\n  headers: {'Accept': 'application/json'}\r\n});\r\n\r\nexport const images = {\r\n  async getImages(inputResult) {\r\n    const response = await INSTANCE.get(`?key=${key}&q=${encodeURIComponent(inputResult)}`, {params: params});\r\n    return response.data;\r\n  }\r\n}\r\n","import SimpleLightbox from \"simplelightbox\";\r\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\r\n\r\nexport const createHTML = (images) => {\r\n\r\n  const gallery = document.querySelector('.gallery');\r\n\r\n  const lightbox = new SimpleLightbox('.gallery .gallery-link', {\r\n    className: 'gallery-link',\r\n    closeText: ['<i class=\"fa fa-times\">&#10006;</i>'],\r\n    navText: ['<i class=\"fa fa-angle-left\">&lt;</i>','<i class=\"fa fa-angle-right\">&gt;</i>'],\r\n    captionsData: 'alt',\r\n    captionDelay: 250\r\n  });\r\n\r\n  gallery.innerHTML = \"\";\r\n\r\n  const galleryImages = images.reduce((htmlString, {webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => {\r\n    return `${htmlString}<a class=\"gallery-link\" href=\"${largeImageURL}\">\r\n                          <img\r\n                            class=\"gallery-image\"\r\n                            src=\"${webformatURL}\"\r\n                            alt=\"${tags}\"\r\n                          />\r\n                          <figcaption class=\"gallery__figcaption\">\r\n                             <div class=\"gallery__caption\">Likes: <span>${likes}</span></div>\r\n                             <div class=\"gallery__caption\">Views: <span>${views}</span></div>\r\n                             <div class=\"gallery__caption\">Comments: <span>${comments}</span></div>\r\n                             <div class=\"gallery__caption\">Downloads: <span>${downloads}</span></div>\r\n                          </figcaption>\r\n                        </a>`\r\n  }, '')\r\n\r\n  gallery.insertAdjacentHTML('beforeend', galleryImages);\r\n  lightbox.refresh();\r\n}","import { images } from './js/pixabay-api.js';\r\nimport { createHTML } from './js/render-function.js';\r\nimport iziToast from \"izitoast\";\r\nimport \"izitoast/dist/css/iziToast.min.css\";\r\n\r\nconst searchForm = document.querySelector('.form');\r\nsearchForm.addEventListener(\"submit\", (e) => {\r\n  e.preventDefault();\r\n\r\n  let loader = `<span class=\"loader\"></span>`;\r\n  document.querySelector('.gallery').innerHTML = loader;\r\n\r\n  const searchInput = document.querySelector(\"[name='search']\");\r\n\r\n  if (searchInput.value.trim() !== '') {\r\n    document.querySelector('.gallery').innerHTML = loader;\r\n\r\n      images.getImages(searchInput.value.trim())\r\n        .then((res) => {\r\n          if (parseInt(res.totalHits) <= 0){\r\n            throw new Error('Sorry, there are no images matching your search query. Please try again!');\r\n          }\r\n          createHTML(res.hits);\r\n        })\r\n        .catch((error)=> {\r\n          document.querySelector('.gallery').innerHTML = '';\r\n          console.error(error.message);\r\n          resultError(error.message);\r\n        });\r\n  }else {\r\n    resultError('The field cannot be empty');\r\n  }\r\n});\r\n\r\nconst resultError = (errorMsg) => {\r\n  iziToast.error({\r\n    message: errorMsg,\r\n    position: 'topRight',\r\n    timeout: 5000\r\n  })\r\n}"],"names":["key","params","INSTANCE","axios","images","inputResult","createHTML","gallery","lightbox","SimpleLightbox","galleryImages","htmlString","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","e","loader","searchInput","res","error","resultError","errorMsg","iziToast"],"mappings":"owBAEA,MAAMA,EAAM,qCAENC,EAAS,CACb,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEMC,EAAYC,EAAM,OAAO,CAC7B,QAAS,0BACT,QAAS,CAAC,OAAU,kBAAkB,CACxC,CAAC,EAEYC,EAAS,CACpB,MAAM,UAAUC,EAAa,CAE3B,OADiB,MAAMH,EAAS,IAAI,QAAQF,CAAG,MAAM,mBAAmBK,CAAW,CAAC,GAAI,CAAC,OAAQJ,CAAM,CAAC,GACxF,IACjB,CACH,ECjBaK,EAAcF,GAAW,CAEpC,MAAMG,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,IAAIC,EAAe,yBAA0B,CAC5D,UAAW,eACX,UAAW,CAAC,qCAAqC,EACjD,QAAS,CAAC,uCAAuC,uCAAuC,EACxF,aAAc,MACd,aAAc,GAClB,CAAG,EAEDF,EAAQ,UAAY,GAEpB,MAAMG,EAAgBN,EAAO,OAAO,CAACO,EAAY,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC7G,GAAGP,CAAU,iCAAiCE,CAAa;AAAA;AAAA;AAAA,mCAGnCD,CAAY;AAAA,mCACZE,CAAI;AAAA;AAAA;AAAA,0EAGmCC,CAAK;AAAA,0EACLC,CAAK;AAAA,6EACFC,CAAQ;AAAA,8EACPC,CAAS;AAAA;AAAA,8BAGlF,EAAE,EAELX,EAAQ,mBAAmB,YAAaG,CAAa,EACrDF,EAAS,QAAO,CAClB,EC9BMW,EAAa,SAAS,cAAc,OAAO,EACjDA,EAAW,iBAAiB,SAAWC,GAAM,CAC3CA,EAAE,eAAc,EAEhB,IAAIC,EAAS,+BACb,SAAS,cAAc,UAAU,EAAE,UAAYA,EAE/C,MAAMC,EAAc,SAAS,cAAc,iBAAiB,EAExDA,EAAY,MAAM,KAAI,IAAO,IAC/B,SAAS,cAAc,UAAU,EAAE,UAAYD,EAE7CjB,EAAO,UAAUkB,EAAY,MAAM,KAAI,CAAE,EACtC,KAAMC,GAAQ,CACb,GAAI,SAASA,EAAI,SAAS,GAAK,EAC7B,MAAM,IAAI,MAAM,0EAA0E,EAE5FjB,EAAWiB,EAAI,IAAI,CAC7B,CAAS,EACA,MAAOC,GAAS,CACf,SAAS,cAAc,UAAU,EAAE,UAAY,GAC/C,QAAQ,MAAMA,EAAM,OAAO,EAC3BC,EAAYD,EAAM,OAAO,CACnC,CAAS,GAELC,EAAY,2BAA2B,CAE3C,CAAC,EAED,MAAMA,EAAeC,GAAa,CAChCC,EAAS,MAAM,CACb,QAASD,EACT,SAAU,WACV,QAAS,GACb,CAAG,CACH"}